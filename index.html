<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shop</title>
</head>
<body>

<h2>Welcome to Our Shop</h2>

<form id="customerForm">
     <label for="details">Enter Customer Details:</label><br>
     <textarea id="details" name="details" rows="4" cols="50"></textarea><br><br>
    
    <label for="date">Date:</label>
    <input type="date" id="date" name="date"><br><br>

    <label for="quantity">Select Number of Items:</label>
    <select id="quantity" name="quantity">
        <option value="0">0</option>
	<option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
        <option value="13">13</option>
        <option value="14">14</option>
        <option value="15">15</option>
        <option value="16">16</option>
        <option value="17">17</option>
        <option value="18">18</option>
        <option value="19">19</option>
        <option value="20">20</option>
    </select><br><br>

    <hr> <!-- Horizontal line -->

    <div id="itemDetails"></div><br><br>

    <input type="submit" value="Submit">
</form>

<script>
document.getElementById("customerForm").addEventListener("submit", function(event){
    event.preventDefault();
    var formData = new FormData(document.getElementById("customerForm"));
    var data = {};
    formData.forEach(function(value, key){
        data[key] = value;
    });
    console.log("Customer Name: " + data["name"]);
    console.log("Number of Items: " + data["quantity"]);

    // Retrieve item details
    var items = [];
    for (var i = 1; i <= data["quantity"]; i++) {
        var itemName = document.getElementById("itemName_" + i).value;
        var itemPrice = document.getElementById("itemPrice_" + i).value;
        var itemQuantity = document.getElementById("itemQuantity_" + i).value;
        items.push({name: itemName, price: itemPrice, quantity: itemQuantity});
    }
    console.log("Item Details: ", items);
    // You can process the data here, for example, send it to a server via AJAX
});

document.getElementById("quantity").addEventListener("change", function() {
    var quantity = parseInt(this.value);
    var itemDetailsDiv = document.getElementById("itemDetails");
    itemDetailsDiv.innerHTML = "";

    for (var i = 1; i <= quantity; i++) {
        var itemDiv = document.createElement("div");
        itemDiv.innerHTML = `
            <label for="itemName_${i}">Item Name:</label>
            <select id="itemName_${i}" name="itemName_${i}">
                <option value="Small Chocolate">Small Chocolate</option>
                <option value="Bar Chocolate">Bar Chocolate</option>
                <option value="Special Chocolate">Special Chocolate</option>
                <option value="Chocolate Box">Chocolate Box</option>
                <option value="Cup Cakes">Cup Cakes</option>
                <option value="Fruit Cakes">Fruit Cakes</option>
                <option value="Brownie">Brownie</option>
                <option value="Celebration Cakes">Celebration Cakes</option>
                <option value="Bento Cakes">Bento Cakes</option>
                <option value="Mousse">Mousse</option>
                <option value="Chanar Cake">Chanar Cake</option>
            </select><br><br>
            <label for="itemPrice_${i}">Item Price:</label>
            <input type="number" id="itemPrice_${i}" name="itemPrice_${i}"><br><br>
            <label for="itemQuantity_${i}">Item Quantity:</label>
            <input type="number" id="itemQuantity_${i}" name="itemQuantity_${i}" value="1"><br><br>
        `;
        itemDetailsDiv.appendChild(itemDiv);
        // Add <hr> after each group
        if (i !== quantity) {
            itemDetailsDiv.appendChild(document.createElement("hr"));
        }
    }
});
</script>

</body>
</html>
